function ensureAJAXGet(n,e){var t=!Browser.WebKit,o=n,i="";for(var a in e)i="?"==i?"&":"?",o=o+i+encodeURIComponent(a)+"="+encodeURIComponent(e[a]);var r=new XMLHttpRequest;return r.open("GET",o,t),r.send(),r}function onUnload(n){Browser.WebKit?window.onbeforeunload=n:window.onunload=n}function unload(){console.log("Page Unload... Dynamix unbind requested"),Dynamix.unbind()}if("undefined"==typeof Dynamix)var Dynamix={base_url:"http://127.0.0.1",port_list:[18087,5633,5634,5635,5636,5637,6130,6131,6132,6133,6134,8223,8224,8225,8226,8227,10026,10027,10028,10029,10030,12224,12225,12226,12227,12228,16001,16002,16003,16004,16005,19316,19317,19318,19319],port:0,binding:!1,bound:!1,token:null,token_cookie:"DynamixTokenCookie",port_cookie:"DynamixPortCookie",pairing_token:null,call_timeout:1e3,bind_call_timeout:100,SUCCESS:0,JAVASCRIPT_ERROR:100,BIND_ERROR:101,HTTP_ERROR:102,JSON_ERROR:103,Callbacks:{},Listeners:{},Handlers:{},Enums:Object.freeze({SESSION_OPENED:"SESSION_OPENED",SESSION_CLOSED:"SESSION_CLOSED",SUCCESS:"SUCCESS",WARNING:"WARNING",FAILURE:"FAILURE",PLUGIN_RESULT:"PLUGIN_RESULT",PLUGIN_ENABLED:"PLUGIN_DISABLED",PLUGIN_DISABLED:"PLUGIN_DISABLED",PLUGIN_INSTALLED:"PLUGIN_INSTALLED",PLUGIN_UNINSTALLED:"PLUGIN_UNINSTALLED",PLUGIN_ERROR:"PLUGIN_ERROR",INSTALL_PROGRESS:"INSTALL_PROGRESS",BOUND:"BOUND",UNBOUND:"UNBOUND",BIND_ERROR:"BIND_ERROR",PLUGIN_DISCOVERY_STARTED:"PLUGIN_DISCOVERY_STARTED",PLUGIN_DISCOVERY_FINISHED:"PLUGIN_DISCOVERY_FINISHED"}),bind:function(n){if(console.log("Dynamix.bind called"),Dynamix.Listeners["bind-state-listener"]=n,Dynamix.binding)console.log("Dynamix Already Binding!");else if(Dynamix.binding=!0,Dynamix.bound)console.log("Dynamix Already Bound!"),DynamixListener.onDynamixFrameworkBound();else{var e=Dynamix.getCookie(Dynamix.token_cookie),t=Dynamix.getCookie(Dynamix.port_cookie);if(null!=e&&""!=e&&null!=t&&""!=t){if(console.log("Found Dynamix cookie token"),console.log("Found Dynamix cookie port: "+t),Dynamix.port=t,Dynamix.isTokenValid(e))return Dynamix.token=e,Dynamix.bound=!0,Dynamix.binding=!1,setTimeout(Dynamix.eventLoop,10),console.log("Dynamix cookie token was valid"),DynamixListener.onDynamixFrameworkBound(),Dynamix.isSessionOpen()?DynamixListener.onSessionOpened():DynamixListener.onSessionClosed(),void(Dynamix.isDynamixActive()?DynamixListener.onDynamixFrameworkActive():DynamixListener.onDynamixFrameworkInactive());console.log("Dynamix cookie has expired")}else console.log("No Dynamix cookie found");Dynamix.bindHelper(0)}},openDynamixSession:function(n){var e=Dynamix.getXmlHttpRequest();try{if(void 0!==n.listener&&void 0!==n.callback){var t=Dynamix.generateGuid();Dynamix.Listeners[t]=n.listener;var o=Dynamix.generateGuid();Dynamix.Callbacks[o]=n.callback,e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/opendynamixsession?sessionListenerId="+t+"&callbackId="+o)}else if(void 0!==n.listener){var t=Dynamix.generateGuid();Dynamix.Listeners[t]=n.listener,e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/opendynamixsession?sessionListenerId="+t)}else if(void 0!==n.callback){var o=Dynamix.generateGuid();Dynamix.Callbacks[o]=n.callback,e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/opendynamixsession?callbackId="+o)}else e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/opendynamixsession");e.setRequestHeader("Authorization",Dynamix.token),e.send()}catch(i){console.log("Error opening new session:"+i)}},createContextHandler:function(n){var e=Dynamix.generateGuid();Dynamix.Callbacks[e]=n;var t=Dynamix.getXmlHttpRequest();try{t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/createcontexthandler?callbackId="+e,!0),t.setRequestHeader("Authorization",Dynamix.token),t.send()}catch(o){console.log("Error getting new context handler : "+o)}},handler:function(n){this.id=n,this.addContextSupport=function(e,t,o){try{var i=Dynamix.getXmlHttpRequest();if(void 0===o)i.open("GET",Dynamix.base_url+":"+Dynamix.port+"/addContextSupport?contextHandlerId="+n+"&contextType="+t+"&pluginId="+e,!0),console.log("Requesting for context support without callback or listener");else if(void 0!==typeof o.callback&&void 0!==o.listener){var a=Dynamix.generateGuid(),r=Dynamix.generateGuid();Dynamix.Callbacks[r]=o.callback,Dynamix.Listeners[a]=o.listener,i.open("GET",Dynamix.base_url+":"+Dynamix.port+"/addContextSupport?contextHandlerId="+n+"&contextType="+t+"&pluginId="+e+"&callbackId="+r+"&contextListenerId="+a,!0),console.log("Requesting for context support with callback and listener")}else if(void 0!==typeof o.callback){var r=Dynamix.generateGuid();Dynamix.Callbacks[r]=o.callback,i.open("GET",Dynamix.base_url+":"+Dynamix.port+"/addContextSupport?contextHandlerId="+n+"&contextType="+t+"&pluginId="+e+"&callbackId="+r,!0),console.log("Requesting for context support with only callback")}else if(void 0!==typeof o.listener){var a=Dynamix.generateGuid();Dynamix.Listeners[a]=o.listener,i.open("GET",Dynamix.base_url+":"+Dynamix.port+"/addContextSupport?contextHandlerId="+n+"&contextType="+t+"&pluginId="+e+"&contextListenerId="+a,!0),console.log("Requesting for context support with only listener")}i.setRequestHeader("Authorization",Dynamix.token),i.send()}catch(s){console.log("Add context support failed : "+s)}},this.contextRequest=function(e,t,o){try{var i=Dynamix.getXmlHttpRequest(),a=Dynamix.generateGuid();Dynamix.Callbacks[a]=o,i.open("GET",Dynamix.base_url+":"+Dynamix.port+"/contextrequest?contextHandlerId="+n+"&contextType="+t+"&pluginId="+e+"&callbackId="+a,!0),i.setRequestHeader("Authorization",Dynamix.token),i.send()}catch(r){console.log("Context request failed : "+r)}},makeConfiguredRequest=function(e,t,o,i,a){var r=function(n){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e.join("&")},s=Dynamix.getXmlHttpRequest(),l="";t=t.toUpperCase();var c=Dynamix.base_url+":"+Dynamix.port+e,u="";if(void 0!==typeof a.callback&&void 0!==a.listener){var m=Dynamix.generateGuid(),x=Dynamix.generateGuid();Dynamix.Callbacks[x]=a.callback,Dynamix.Listeners[m]=a.listener,u="contextHandlerId="+n+"&contextType="+i+"&pluginId="+o+"&callbackId="+x+"&contextListenerId="+m}else if(void 0!==typeof a.callback){var x=Dynamix.generateGuid();Dynamix.Callbacks[x]=a.callback,u="contextHandlerId="+n+"&contextType="+i+"&pluginId="+o+"&callbackId="+x}else if(void 0!==typeof a.listener){var m=Dynamix.generateGuid();Dynamix.Listeners[m]=a.listener,u="contextHandlerId="+n+"&contextType="+i+"&pluginId="+o+"&contextListenerId="+m}else u="contextHandlerId="+n+"&contextType="+i+"&pluginId="+o;if(console.log("Param String : "+u),"GET"==t){if(void 0!==a.params){var y=r(a.params);c=c+"?"+u+"&"+y,console.log(c)}else c=c+"?"+u;if(s.open(t,c,!0),void 0!==a.headers)for(var d in a.headers)s.setRequestHeader(d,a.headers.key);s.setRequestHeader("Authorization",Dynamix.token),s.send()}else if("POST"==t||"PUT"==t||"DELETE"==t){if(void 0!==a.params){var y=r(a.params);l=y+"&"+u}else l=u;if(s.open(t,c,!0),void 0!==a.headers)for(var d in a.headers)s.setRequestHeader(d,a.headers.key);s.setRequestHeader("Authorization",Dynamix.token),console.log(l),s.send(l)}else console.log("Unsupported REST Method")},this.configuredContextRequest=function(n,e,t,o){makeConfiguredRequest("/configuredcontextrequest",n,e,t,o)},this.addConfiguredContextSupport=function(n,e,t,o){makeConfiguredRequest("/addconfiguredcontextsupport",n,e,t,o)},this.removeContextSupportForContextType=function(n,e){try{var t=Dynamix.getXmlHttpRequest();if(void 0!==e.callback){var o=Dynamix.generateGuid();Dynamix.Callbacks[o]=e.callback,t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontextsupportforcontexttype?contextHandlerId="+this.id+"&contextType="+n+"&callbackId="+o)}else t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontextsupportforcontexttype?contextHandlerId="+this.id+"&contextType="+n);t.setRequestHeader("Authorization",Dynamix.token),t.send()}catch(i){console.log("Error removing context support for type : "+n+" : "+i)}},this.removeContextSupportForSupportId=function(n,e){try{var t=Dynamix.getXmlHttpRequest();if(void 0!==e.callback){var o=Dynamix.generateGuid();Dynamix.Callbacks[o]=e.callback,t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontextsupportforsupportid?contextHandlerId="+this.id+"&supportId="+n+"&callbackId="+o)}else t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontextsupportforcontexttype?contextHandlerId="+this.id+"&supportId="+n);t.setRequestHeader("Authorization",Dynamix.token),t.send()}catch(i){console.log("Error removing context support for type : "+contextType+" : "+i)}},this.getAllContextPluginInformation=function(){try{var n=Dynamix.getXmlHttpRequest();n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/getallcontextplugininformation"),n.setRequestHeader("Authorization",Dynamix.token),n.send()}catch(e){console.log("Error getting all context plugin information : "+e)}},this.getAllContextPluginsForType=function(n){try{var e=Dynamix.getXmlHttpRequest();e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/getallcontextplugininformationfortype?contextType="+n),e.setRequestHeader("Authorization",Dynamix.token),e.send()}catch(t){console.log("Error getting context plugins for the type "+n+" : "+t)}},this.getInstalledContextPlugins=function(){try{var n=Dynamix.getXmlHttpRequest();n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/getallcontextplugininformationfortype?contextType="+contextType),n.setRequestHeader("Authorization",Dynamix.token),n.send()}catch(e){console.log("Error getting context plugins for the type "+contextType+" : "+e)}},this.getContextPluginInformation=function(n){try{var e=Dynamix.getXmlHttpRequest();e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/getcontextplugininformation?pluginId="+n),e.setRequestHeader("Authorization",Dynamix.token),e.send()}catch(t){console.log("Error getting plugin information for the pluginId "+n+" : "+t)}},this.openContextPluginConfigurationView=function(n){try{var e=Dynamix.getXmlHttpRequest();e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/opencontextpluginconfigurationview?pluginId="+n),e.setRequestHeader("Authorization",Dynamix.token),e.send()}catch(t){console.log("Error opening context plugin configuration view for plugin Id : "+n)}}},removeContextHandler:function(n,e){try{var t=Dynamix.getXmlHttpRequest();if(void 0!==e.callback){var o=Dynamix.generateGuid();Dynamix.Callbacks[o]=e.callback,t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontexthandler?contextHandlerId="+n.id+"&callbackId="+o,!0)}else t.open("GET",Dynamix.base_url+":"+Dynamix.port+"/removecontexthandler?contextHandlerId="+n.id,!0);t.setRequestHeader("Authorization",Dynamix.token),t.send()}catch(i){console.log("Error removing context handler : "+i)}},closeDynamixSession:function(n){try{var e=Dynamix.getXmlHttpRequest();if(void 0!==n.callback){var t=Dynamix.generateGuid();Dynamix.Callbacks[t]=n.callback,e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/closedynamixsession?callbackId="+t,!0)}else e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/closedynamixsession",!0);e.setRequestHeader("Authorization",Dynamix.token),e.send()}catch(o){console.log("Error closing dynamix session : "+o)}},unbind:function(){var n=Dynamix.getXmlHttpRequest();try{n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/dynamixUnbind",!1),n.setRequestHeader("Authorization",Dynamix.token),n.send(),503==n.status?(console.log("Unbind request status : "+n.status),console.log("Unbind call succeeded in Dynamix"),Dynamix.onDynamixUnbind()):Dynamix.onDynamixUnbind()}catch(e){console.log("Error unbinding Dynamix: "+e),Dynamix.onDynamixUnbind()}},Result:function(n,e,t){return this.success=n,this.resultCode=e,this.resultMessage=decodeURIComponent(t),this},IdResult:function(n,e,t,o){return this.success=n,this.resultCode=e,this.resultMessage=decodeURIComponent(t),this.requestId=o,this},testSecurity:function(){var n=Dynamix.getXmlHttpRequest();try{return n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/isDynamixActive",!1),n.setRequestHeader("Referer","http://www.fakereferer.com/"),n.setRequestHeader("Origin","http://www.fakeorigin.com/"),n.send(),Dynamix.getBooleanFromResponse(n)}catch(e){return console.log("Error connecting to Dynamix: "+e),!1}},bindHelper:function(n){if(Dynamix.binding){console.log("Trying to bind to Dynamix on port: "+Dynamix.port_list[n]),Dynamix.port=Dynamix.port_list[n];var e=Dynamix.getXmlHttpRequest();e.timeout=Dynamix.bind_call_timeout,console.log("Making bind request to: "+Dynamix.base_url+":"+Dynamix.port+"/dynamixBind"),null==Dynamix.pairing_token?e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/dynamixBind",!0):e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/dynamixBind?pairing_token="+Dynamix.pairing_token,!0),e.onreadystatechange=function(){if(4==e.readyState){if(200==e.status)return Dynamix.token=e.responseText,Dynamix.bound=!0,Dynamix.binding=!1,Dynamix.setCookie(Dynamix.token_cookie,Dynamix.token,1),Dynamix.setCookie(Dynamix.port_cookie,Dynamix.port,1),setTimeout(Dynamix.eventLoop,10),console.log("Dynamix newly bound on port: "+Dynamix.port_list[n]),void DynamixListener.onDynamixFrameworkBound();if(400==e.status){var t=Dynamix.parameterizeResult(e);return console.log("Dynamix error during bind on port: "+Dynamix.port_list[n]+" "+t.resultMessage),Dynamix.binding=!1,void DynamixListener.onDynamixFrameworkBindError(t)}if(403==e.status){var t=Dynamix.parameterizeResult(e);return console.log("Authorization error during bind on port: "+Dynamix.port_list[n]+" "+t.resultMessage),Dynamix.binding=!1,void DynamixListener.onDynamixFrameworkBindError(t)}console.log("Failed to bind to Dynamix on port: "+Dynamix.port_list[n]),console.log("Total ports are "+Dynamix.port_list.length),console.log(e.status),n++<Dynamix.port_list.length-1?Dynamix.bindHelper(n):(Dynamix.binding=!1,console.log("Failed to bind Dynamix on all specified ports"),DynamixListener.onDynamixFrameworkBindError(new Dynamix.Result(!1,Dynamix.BIND_ERROR,"Could not bind to Dynamix")))}},e.send()}else console.log("Can only be called when binding!")},isDynamixActive:function(){var n=Dynamix.getXmlHttpRequest();try{return n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/isDynamixActive",!1),n.setRequestHeader("Authorization",Dynamix.token),n.send(),Dynamix.getBooleanFromResponse(n)}catch(e){return console.log("Error connecting to Dynamix: "+e),!1}},isTokenValid:function(n){var e=Dynamix.getXmlHttpRequest();try{return e.open("GET",Dynamix.base_url+":"+Dynamix.port+"/isDynamixTokenValid",!1),e.setRequestHeader("Authorization",n),e.send(),Dynamix.getBooleanFromResponse(e)}catch(t){return console.log("Error connecting to Dynamix: "+t),!1}},isSessionOpen:function(){var n=Dynamix.getXmlHttpRequest();try{return n.open("GET",Dynamix.base_url+":"+Dynamix.port+"/isdynamixsessionopen",!1),n.setRequestHeader("Authorization",Dynamix.token),n.send(),Dynamix.getBooleanFromResponse(n)}catch(e){return console.log("Error connecting to Dynamix: "+e),!1}},onDynamixUnbind:function(){Dynamix.bound=!1,Dynamix.binding=!1,Dynamix.bind_index=0,Dynamix.token=null,DynamixListener.onDynamixFrameworkUnbound()},getXmlHttpRequest:function(){var n=!1;if(window.XMLHttpRequest)n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType("text/plain");else if(window.ActiveXObject)try{n=new ActiveXObject("Msxml2.XMLHTTP"),n.overrideMimeType("text/plain")}catch(e){try{n=new ActiveXObject("Microsoft.XMLHTTP"),n.overrideMimeType("text/plain")}catch(e){}}return n},eventLoop:function(){if(Dynamix.bound){var xmlhttp=Dynamix.getXmlHttpRequest();xmlhttp.timeout=12e3,xmlhttp.onreadystatechange=function(){if(4==xmlhttp.readyState){if(!Dynamix.bound)return void console.log("Dynamix.eventLoop: Dynamix Not Bound.... exiting event loop");if(200==xmlhttp.status){var msg=decodeURIComponent(xmlhttp.responseText);if(console.log("Received Message : "+msg),-1==msg.indexOf("javascript:try{Dynamix.")&&-1==msg.indexOf("javascript:try{DynamixListener."))return console.log("Dynamix.eventLoop Security Error: Detected non-Dynamix JavaScript call.  Stopping eventLoops."),void Dynamix.unbind();setTimeout(function(){try{var t=eval(unescape(msg))}catch(e){console.log("Dynamix.eventLoop: Error handling command: "+msg+" | Exception was: "+e)}},1),setTimeout(Dynamix.eventLoop,1)}else if(404==xmlhttp.status)setTimeout(Dynamix.eventLoop,10);else if(403==xmlhttp.status){if(console.log("Dynamix.eventLoop Error: Invalid token. "),!Dynamix.bound)return void Dynamix.unbind()}else if(503==xmlhttp.status){if(console.log("Dynamix.eventLoop Error: Service unavailable."),!Dynamix.bound)return void Dynamix.unbind()}else if(400==xmlhttp.status){if(console.log("Dynamix.eventLoop Error: Bad request.."),!Dynamix.bound)return void Dynamix.unbind()}else console.log("Dynamix.eventLoop Error: Request failed.")}},xmlhttp.open("GET",Dynamix.base_url+":"+Dynamix.port+"/eventcallback",!0),xmlhttp.setRequestHeader("Authorization",Dynamix.token),xmlhttp.send()}else console.log("Dynamix.eventLoop: Dynamix Not Bound.... exiting event loop")},setCookie:function(n,e,t){var o=new Date;o.setDate(o.getDate()+t);var i=encodeURI(e)+(null==t?"":"; expires="+o.toUTCString());document.cookie=n+"="+i},getCookie:function(n){var e,t,o,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(t=i[e].substr(0,i[e].indexOf("=")),o=i[e].substr(i[e].indexOf("=")+1),t=t.replace(/^\s+|\s+$/g,""),t==n)return decodeURI(o)},getBooleanFromResponse:function(n){if(200!=n.status)return!1;var e=n.responseText;switch(e.toLowerCase()){case"true":return!0;case"yes":return!0;case"1":return!0;case"false":return!1;case"no":return!1;case"0":return!1;case null:return!1;default:return Boolean(e)}},parameterizeResult:function(n){var e=decodeURIComponent(n.responseText).split(",");return 200==n.status?e[0]==Dynamix.SUCCESS?new Dynamix.Result(!0,e[0],e[1]):new Dynamix.Result(!1,e[0],e[1]):(console.log("HTTP Error: "+n.status),new Dynamix.Result(!1,Dynamix.HTTP_ERROR,"HTTP Error: "+n.status))},parameterizeIdResult:function(n){var e=decodeURIComponent(n.responseText).split(",");return 200===n.status?e[0]==Dynamix.SUCCESS?new Dynamix.IdResult(!0,e[0],e[1],n.responseText):new Dynamix.IdResult(!1,e[0],e[1],null):(console.log("HTTP Error: "+n.status),new Dynamix.IdResult(!1,Dynamix.HTTP_ERROR,"HTTP Error: "+n.status,null))},parameterizeContextSupportInfoResult:function(n){var e=n.responseText.split(",");if(200!==n.status)return console.log("HTTP Error: "+n.status),new Dynamix.ContextSupportInfoResult(!1,Dynamix.HTTP_ERROR,"HTTP Error: "+n.status);if(e[0]!=Dynamix.SUCCESS)return new Dynamix.ContextSupportInfoResult(!1,e[0],e[1]);try{return new Dynamix.ContextSupportInfoResult(!0,e[0],"SUCCESS",Dynamix.convertToJsonObject(decodeURIComponent(e[1])))}catch(t){return console.log("Could not parse: "+e[1]+" | Exception was: "+t),new Dynamix.ContextSupportInfoResult(!1,Dynamix.JSON_ERROR,t)}},parameterizeContextPluginInfoResult:function(n){console.log("parameterizeContextPluginInfoResult:"+n.responseText);var e=n.responseText.split(",");if(200!==n.status)return console.log("HTTP Error: "+n.status),new Dynamix.ContextPluginInfoResult(!1,Dynamix.HTTP_ERROR,"HTTP Error: "+n.status);if(e[0]!=Dynamix.SUCCESS)return new Dynamix.ContextPluginInfoResult(!1,e[0],e[1]);try{return new Dynamix.ContextPluginInfoResult(!0,e[0],"SUCCESS",Dynamix.convertToJsonObject(decodeURIComponent(e[1])))}catch(t){return console.log("Could not parse JSON, Exception was: "+t),new Dynamix.ContextPluginInfoResult(!1,Dynamix.JSON_ERROR,t)}},generateGuid:function(){function n(n){var e=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return n()+n(!0)+n(!0)+n()}},Browser={IE:!(!window.attachEvent||window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&-1==navigator.userAgent.indexOf("KHTML"),MobileSafari:!!navigator.userAgent.match(/Apple.*Mobile.*Safari/)};if(window.onload=function(){console.log("setting unload function"),onUnload(function(){unload()})},"undefined"==typeof DynamixListener)var DynamixListener={onDynamixFrameworkBound:function(){Dynamix.Listeners["bind-state-listener"](Dynamix.Enums.BOUND)},onDynamixFrameworkUnbound:function(){console.log("onDynamixFrameworkUnbound"),Dynamix.Listeners["bind-state-listener"](Dynamix.Enums.UNBOUND)},onDynamixFrameworkBindError:function(){console.log("onDynamixFrameworkBindError"),Dynamix.Listeners["bind-state-listener"](Dynamix.Enums.BIND_ERROR)},onAwaitingSecurityAuthorization:function(){console.log("onAwaitingSecurityAuthorization")},onSecurityAuthorizationGranted:function(n){console.log("onSecurityAuthorizationGranted : "+n)},onSecurityAuthorizationRevoked:function(){console.log("onSecurityAuthorizationRevoked")},onSessionOpened:function(n){console.log("onSessionOpened"),Dynamix.Listeners[n](Dynamix.Enums.SESSION_OPENED)},onSessionClosed:function(n){console.log("onSessionClosed"),Dynamix.Listeners[n](Dynamix.Enums.SESSION_CLOSED)},onSessionCallbackSuccess:function(n){console.log("onSessionCallbackSuccess"),Dynamix.Callbacks[n](Dynamix.Enums.SUCCESS)},onDynamixFrameworkActive:function(){console.log("onDynamixFrameworkActive")},onDynamixFrameworkInactive:function(){console.log("onDynamixFrameworkInactive")},onContextHandlerCallbackSuccess:function(n,e){try{console.log("new Handler successfully created with id : "+e);var t=new Dynamix.handler(e);Dynamix.Handlers[e]=t,Dynamix.Callbacks[n](Dynamix.Enums.SUCCESS,t)}catch(o){console.log(" Couldnt pass newly created handler to callback :"+o)}},onContextSupportCallbackSuccess:function(n,e){console.log("onContextSupportCallbackSuccess"),Dynamix.Callbacks[n](Dynamix.Enums.SUCCESS,convertToJsonObject(e))},onContextSupportCallbackWarning:function(n,e){Dynamix.Callbacks[n](Dynamix.Enums.WARNING,convertToJsonObject(e))},onContextSupportCallbackFailure:function(n,e){Dynamix.Callbacks[n](Dynamix.Enums.FAILURE,convertToJsonObject(e))},onContextSupportCallbackProgress:function(n){Dynamix.Callbacks[n](Dynamix.Enums.INSTALL_PROGRESS,progress)},onCallbackFailure:function(n,e){Dynamix.Callbacks[n](Dynamix.Enums.FAILURE,convertToJsonObject(e))},onContextResult:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_RESULT,convertToJsonObject(e))},onContextPluginEnabled:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_ENABLED,convertToJsonObject(e))},onContextPluginDisabled:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_DISABLED,convertToJsonObject(e))},onContextPluginInstallFailed:function(){console.log()},onContextPluginInstalled:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_INSTALLED,convertToJsonObject(e))},onContextPluginUninstalled:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_UNINSTALLED,convertToJsonObject(e))},onContextPluginError:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_ERROR,convertToJsonObject(e))},onContextRequestCallbackSuccess:function(n,e){console.log("onContextRequestCallbackSuccess");try{Dynamix.Callbacks[n](Dynamix.Enums.SUCCESS,convertToJsonObject(e))}catch(t){console.log(t)}},onContextRequestCallbackFailure:function(n,e){Dynamix.Callbacks[n](Dynamix.Enums.Failure,convertToJsonObject(e))},onContextPluginDiscoveryStarted:function(n){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_DISCOVERY_STARTED)},onContextPluginDiscoveryFinished:function(n,e){Dynamix.Listeners[n](Dynamix.Enums.PLUGIN_DISCOVERY_FINISHED,convertToJsonObject(e))}},convertToJsonObject=function(n){return JSON.parse("string"==typeof n?n:JSON.stringify(n))};